[gd_scene load_steps=10 format=3 uid="uid://ku51omc0kmc2"]

[ext_resource type="PackedScene" uid="uid://c1jyoeet45abd" path="res://scenes/spider/spider_bot_model.gltf" id="1_v4mhp"]
[ext_resource type="Script" path="res://scenes/spider/spider.gd" id="2_8hkh1"]
[ext_resource type="Script" path="res://scenes/spider/start_ik.gd" id="2_k7aah"]
[ext_resource type="Script" path="res://scenes/spider/step_ray.gd" id="4_2sttl"]
[ext_resource type="Script" path="res://scenes/spider/ik_target.gd" id="4_41gju"]
[ext_resource type="Script" path="res://scenes/spider/StepTargetContainer.gd" id="5_jmyan"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ap4hh"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6af1r"]
albedo_color = Color(0.00392157, 0.00392157, 0.00392157, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_frf3l"]
albedo_color = Color(0, 0, 0, 1)

[node name="Spider" instance=ExtResource("1_v4mhp")]
script = ExtResource("2_8hkh1")

[node name="Body_2" parent="Armature/Skeleton3D" index="0"]
transform = Transform3D(0.325856, 0, 0, 0, 0.325856, 0, 0, 0, 0.325856, 0, 0, 0)

[node name="Body_2" parent="Armature/Skeleton3D/Body_2" index="0"]
material_override = SubResource("StandardMaterial3D_ap4hh")

[node name="Cylinder" parent="Armature/Skeleton3D" index="1"]
transform = Transform3D(0.325856, 0, 0, 0, 0, -0.325856, 0, 0.325856, 0, 0, 0.101015, -0.348666)

[node name="Cylinder" parent="Armature/Skeleton3D/Cylinder" index="0"]
material_override = SubResource("StandardMaterial3D_6af1r")

[node name="Leg" parent="Armature/Skeleton3D" index="2"]
material_override = SubResource("StandardMaterial3D_frf3l")

[node name="FrontLeftIK" type="SkeletonIK3D" parent="Armature/Skeleton3D" index="3"]
process_priority = 1
root_bone = &"leg1FrontLeft"
tip_bone = &"Foot IKFrontLeft"
use_magnet = true
target_node = NodePath("../../../FrontLeftIKTarget")
script = ExtResource("2_k7aah")

[node name="FrontRightIK" type="SkeletonIK3D" parent="Armature/Skeleton3D" index="4"]
process_priority = 1
root_bone = &"leg1FrontRight"
tip_bone = &"Foot IKFrontRight"
use_magnet = true
target_node = NodePath("../../../FrontRightIKTarget")
script = ExtResource("2_k7aah")

[node name="BackLeftIK" type="SkeletonIK3D" parent="Armature/Skeleton3D" index="5"]
process_priority = 1
root_bone = &"leg1BackLeft"
tip_bone = &"Foot IKBackLeft"
use_magnet = true
target_node = NodePath("../../../BackLeftIKTarget")
script = ExtResource("2_k7aah")

[node name="BackRightIK" type="SkeletonIK3D" parent="Armature/Skeleton3D" index="6"]
process_priority = 1
root_bone = &"leg1BackRight"
tip_bone = &"Foot IKBackRight"
use_magnet = true
target_node = NodePath("../../../BackRightIKTarget")
script = ExtResource("2_k7aah")

[node name="FrontLeftIKTarget" type="Marker3D" parent="." index="1" node_paths=PackedStringArray("step_target", "adjacent_target", "opposite_target")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.36754, -2.56585, -3.33133)
top_level = true
script = ExtResource("4_41gju")
step_target = NodePath("../StepTargetContainer/FrontLeftRay/FrontLeftStepTarget")
adjacent_target = NodePath("../FrontRightIKTarget")
opposite_target = NodePath("../BackRightIKTarget")

[node name="FrontRightIKTarget" type="Marker3D" parent="." index="2" node_paths=PackedStringArray("step_target", "adjacent_target", "opposite_target")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.97613, -2.56585, -2.88804)
top_level = true
script = ExtResource("4_41gju")
step_target = NodePath("../StepTargetContainer/FrontRightRay/FrontRightStepTarget")
adjacent_target = NodePath("../FrontLeftIKTarget")
opposite_target = NodePath("../BackLeftIKTarget")

[node name="BackLeftIKTarget" type="Marker3D" parent="." index="3" node_paths=PackedStringArray("step_target", "adjacent_target", "opposite_target")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.41664, -2.56585, 2.20065)
top_level = true
script = ExtResource("4_41gju")
step_target = NodePath("../StepTargetContainer/BackLeftRay/BackLeftStepTarget")
adjacent_target = NodePath("../BackRightIKTarget")
opposite_target = NodePath("../FrontRightIKTarget")

[node name="BackRightIKTarget" type="Marker3D" parent="." index="4" node_paths=PackedStringArray("step_target", "adjacent_target", "opposite_target")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.97613, -2.56585, 2.20065)
top_level = true
script = ExtResource("4_41gju")
step_target = NodePath("../StepTargetContainer/BackRightRay/BackRightStepTarget")
adjacent_target = NodePath("../BackLeftIKTarget")
opposite_target = NodePath("../FrontLeftIKTarget")

[node name="StepTargetContainer" type="Node3D" parent="." index="5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.97613, -2.56585, 2.20065)
script = ExtResource("5_jmyan")

[node name="FrontLeftRay" type="RayCast3D" parent="StepTargetContainer" index="0" node_paths=PackedStringArray("step_target")]
transform = Transform3D(0.700477, 0.516126, 0.708782, 0.107577, 5.99719, -0.220433, -0.705521, 1.42688, 0.670103, -6.34368, 7.24149, -5.53197)
script = ExtResource("4_2sttl")
step_target = NodePath("FrontLeftStepTarget")

[node name="FrontLeftStepTarget" type="Marker3D" parent="StepTargetContainer/FrontLeftRay" index="0"]
transform = Transform3D(0.700477, 0.107577, -0.705521, 0.0134869, 0.156713, 0.0372858, 0.708782, -0.220433, 0.670103, -0.779015, -1.13483, 1.59626)

[node name="FrontRightRay" type="RayCast3D" parent="StepTargetContainer" index="1" node_paths=PackedStringArray("step_target")]
transform = Transform3D(0.978108, -1.14603, 0.0947859, 0.195366, 6.02752, -0.11164, -0.071673, 0.790062, 0.989218, 0, 7.24149, -5.08868)
script = ExtResource("4_2sttl")
step_target = NodePath("FrontRightStepTarget")

[node name="FrontRightStepTarget" type="Marker3D" parent="StepTargetContainer/FrontRightRay" index="0"]
transform = Transform3D(0.978108, 0.195366, -0.071673, -0.0299471, 0.157506, 0.0206451, 0.0947859, -0.11164, 0.989218, -1.41474, -1.14057, 0.808443)

[node name="BackLeftRay" type="RayCast3D" parent="StepTargetContainer" index="2" node_paths=PackedStringArray("step_target")]
transform = Transform3D(0.864621, 0.659519, 0.490984, -0.164425, 6.08383, 0.076005, -0.474758, -0.905937, 0.867847, -5.39278, 7.24149, 0)
script = ExtResource("4_2sttl")
step_target = NodePath("BackLeftStepTarget")

[node name="BackLeftStepTarget" type="Marker3D" parent="StepTargetContainer/BackLeftRay" index="0"]
transform = Transform3D(0.864621, -0.164425, -0.474758, 0.0172339, 0.158977, -0.0236731, 0.490984, 0.076005, 0.867847, 1.19068, -1.15123, -0.55039)

[node name="BackRightRay" type="RayCast3D" parent="StepTargetContainer" index="3" node_paths=PackedStringArray("step_target")]
transform = Transform3D(0.961247, -1.70545, 0, 0.274086, 5.91189, 0.107635, -0.0296736, -0.640044, 0.99419, 0, 7.24149, 0)
script = ExtResource("4_2sttl")
step_target = NodePath("BackRightStepTarget")

[node name="BackRightStepTarget" type="Marker3D" parent="StepTargetContainer/BackRightRay" index="0"]
transform = Transform3D(0.961247, 0.274086, -0.0296736, -0.0445652, 0.154484, -0.016725, 1.85182e-09, 0.107635, 0.994191, -1.98479, -1.11869, -0.779437)
